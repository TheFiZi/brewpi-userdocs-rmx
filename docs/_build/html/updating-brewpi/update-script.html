
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>6. Updating BrewPi with our upgrade script &#8212; BrewPi Docs 0.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Frequently Asked Questions (FAQ)" href="../faq/faq-index.html" />
    <link rel="prev" title="5. Configuring your devices" href="../after-install/device-configuration.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="updating-brewpi-with-our-upgrade-script">
<h1>6. Updating BrewPi with our upgrade script<a class="headerlink" href="#updating-brewpi-with-our-upgrade-script" title="Permalink to this headline">¶</a></h1>
<p>We have written a Python script to help you check for updates and apply them.
This script checks both the web interface and the brewpi script directory for updates.</p>
<div class="section" id="getting-the-update-script">
<h2>6.1. Getting the update script<a class="headerlink" href="#getting-the-update-script" title="Permalink to this headline">¶</a></h2>
<p>If you didn’t clone the <a class="reference external" href="https://github.com/BrewPi/brewpi-tools">brewpi-tools repository on GitHub</a> repository already,
you can do it with the following command. This will clone it from GitHub into your current user’s home directory.
You can put the brewpi-tools dir anywhere you like, the instructions here assume the pi user’s home directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/BrewPi/brewpi-tools.git ~/brewpi-tools
</pre></div>
</div>
</div>
<div class="section" id="updating-brewpi">
<h2>6.2. Updating BrewPi<a class="headerlink" href="#updating-brewpi" title="Permalink to this headline">¶</a></h2>
<p>Please stop the script before running the updater, using the web interface.</p>
<p>To run the update script, use the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo ~/brewpi-tools/updater.py
</pre></div>
</div>
<p>The script will display a menu to to choose which branch you would like to update. It defaults to the currently active branch.
If you pick another branch, it will check it out for you.</p>
<p>The script will pull from the remote to update. If merging the updates fails, the script will ask you to stash your local changes.
This commits your changes to the git stash and bring your repository back to its original state.
You can get your changes back with ‘git stash pop’, but be warned that your changes could be incompatible with the latest updates.</p>
</div>
<div class="section" id="scripts-that-run-after-the-update">
<h2>6.3. Scripts that run after the update<a class="headerlink" href="#scripts-that-run-after-the-update" title="Permalink to this headline">¶</a></h2>
<p>After updating, the updater calls the <a class="reference external" href="https://github.com/BrewPi/brewpi-script/blob/master/utils/runAfterUpdate.sh">utils/runAfterUpdate.sh</a>
script from the brewpi-scripts directory. This script will install any new dependencies, update the CRON job and fix file permissions.</p>
</div>
<div class="section" id="using-the-updater-with-your-own-remote-github-account">
<h2>6.4. Using the updater with your own remote / GitHub account.<a class="headerlink" href="#using-the-updater-with-your-own-remote-github-account" title="Permalink to this headline">¶</a></h2>
<p>The update script just reads the remotes from the config files in the repositories.
If you add your own remotes, it will display a menu to choose a remote to update from. So if you forked BrewPi on GitHub,
you can also use the updater to update from your own repository.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">BrewPi Docs</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installing-your-pi/rpi-setup.html">1. Basic configuration of your Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../automated-brewpi-install/automated-brewpi-install.html">2. Automated installation of BrewPi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-brewpi-install/manual-brewpi-install.html">3. Manual installation of BrewPi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../after-install/program-arduino.html">4. Programming your Arduino with BrewPi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../after-install/device-configuration.html">5. Configuring your devices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. Updating BrewPi with our upgrade script</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-the-update-script">6.1. Getting the update script</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-brewpi">6.2. Updating BrewPi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scripts-that-run-after-the-update">6.3. Scripts that run after the update</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-updater-with-your-own-remote-github-account">6.4. Using the updater with your own remote / GitHub account.</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq/faq-index.html">7. Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/changelog.html">8. Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../after-install/device-configuration.html" title="previous chapter">5. Configuring your devices</a></li>
      <li>Next: <a href="../faq/faq-index.html" title="next chapter">7. Frequently Asked Questions (FAQ)</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2013, Elco Jacobs.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/updating-brewpi/update-script.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>